<!DOCTYPE html>
<html>

<head>
    <title>Vue Router</title>
    <script src="./vue.js" type="text/javascript"></script>
    <!-- 引入vue router -->
    <script src="./vue-router.js" type="text/javascript"></script>
</head>

<body>
    <div id="app">
        try,router-view
        <router-link to="/foo/123">Go to foo</router-link>
        <router-link to="/bar/456">Go to bar</router-link>

        <router-view></router-view>

        {{userId}}
    </div>
    <script type="text/javascript">
        // 动态参数绑定
        const Foo = { template: '<div>Foo {{this.$route.params.userId}}</div>' }
        const Bar = { template: '<div>Bar {{this.$route.params.userId}}</div>' }

        // 动态路径参数以':'号开头
        const routes = [{ path: '/foo/:userId', component: Foo }, { path: '/bar/:userId', component: Bar }]

        const router = new VueRouter({
            routes
        })

        var app = new Vue({
            el: '#app',
            // 通过注入路由器，
            // 我们可以在任何组件内通过this.$router访问路由器
            // 也可以通过this.$route访问当前路由
            router: router,
            computed: {
                userId() {
                    return this.$route.params.userId
                }
            },
            methods: {
                goBack() {
                    window.history.length > 1 ? this.$router().go(-1) : this.$router.push('/')
                }
            }
        })
    </script>
</body>

</html>